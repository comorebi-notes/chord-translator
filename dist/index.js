"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _tonal=require("tonal"),translateType=function(a){var b,c,d=[0,0,0,null,null,null,null],e=a,f=/\((.*)\)/,g=a.match(f);g&&(b=g[1].replace(/\s+/g,"").split(","),e=e.replace(f,""));var h=/omit(\d+)/,i=a.match(h);i&&(c=i[1],e=e.replace(h,""));var j=function(a){return!!e.match(a)&&(e=e.replace(a,""),!0)};switch(!0){case j(/^M(?!(7|9|11|13))/):break;case j(/^m(?!aj)/):d[1]=-1;break;case j(/aug/):d[2]=1;break;case j(/Φ|φ/):d[1]=-1,d[2]=-1,d[3]=0;}switch(!0){case j(/\+5|#5/):d[2]=1;break;case j(/-5|b5/):d[2]=-1;}switch(!0){case j(/^6/):d[3]=-1;break;case j(/^7/):d[3]=0;break;case j(/^9/):d[3]=0,d[4]=0;break;case j(/^11/):d[3]=0,d[4]=0,d[5]=0;break;case j(/^13/):d[3]=0,d[4]=0,d[5]=0,d[6]=0;}switch(!0){case j(/sus4/):d[1]=1;break;case j(/sus2/):d[1]=-2;}switch(!0){case j(/add2/):d[4]=-12;break;case j(/add9/):d[4]=0;break;case j(/add4/):d[5]=-12;break;case j(/add11/):d[5]=0;break;case j(/add6/):d[6]=-12;break;case j(/add13/):d[6]=0;}switch(!0){case j(/(M|maj|△|Δ)7/):d[3]=1;break;case j(/(M|maj|△|Δ)9/):d[3]=1,d[4]=0;break;case j(/(M|maj|△|Δ)11/):d[3]=1,d[4]=0,d[5]=0;break;case j(/(M|maj|△|Δ)13/):d[3]=1,d[4]=0,d[5]=0,d[6]=0;}switch(!0){case j(/^(dim|o)7/):d[1]-=1,d[2]-=1,d[3]=-1;break;case j(/^(dim|o)/):d[1]-=1,d[2]-=1;}return b&&(e+=b.join("")),j(/(#|\+)9/)&&(d[4]=1),j(/(b|-)9/)&&(d[4]=-1),j(/9/)&&(d[4]=0),j(/(#|\+)11/)&&(d[5]=1),j(/(b|-)11/)&&(d[5]=-1),j(/11/)&&(d[5]=0),j(/(#|\+)13/)&&(d[6]=1),j(/(b|-)13/)&&(d[6]=-1),j(/13/)&&(d[6]=0),("1"===c?d[0]=null:"3"===c?d[1]=null:"5"===c?d[2]=null:"7"===c?d[3]=null:"9"===c?d[4]=null:"11"===c?d[5]=null:"13"===c?d[6]=null:void 0,d)},transposer=function(a,b){return _tonal.Note.fromMidi(_tonal.Note.midi(a)+b)},buildChord=function(a,b,c){var d=[],e=_tonal.Chord.notes(a,"13");e.splice(5,0,_tonal.Distance.transpose(a,"M11"));for(var f=0;7>f;f+=1)null!==c[f]&&d.push(transposer(e[f],c[f]));return d},chordTranslator=function(a,b,c){var d=_tonal.Chord.notes(""+a+b,"M"),e=buildChord(""+a+b,d,translateType(c));return e};exports.default=chordTranslator;